<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç­çº§æ—©è¯»ç™¾èŠ±å›­ - èƒŒè¯µæ‰“å¡ç§æ ‘ç³»ç»Ÿ</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', 'Microsoft YaHei', sans-serif;
        }
        
        body {
            background-color: #f5f9ff;
            color: #333;
            line-height: 1.6;
            padding: 20px;
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .header {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px;
            background: linear-gradient(135deg, #6a98f0 0%, #89d4cf 100%);
            border-radius: 20px;
            color: white;
            box-shadow: 0 10px 20px rgba(106, 152, 240, 0.2);
        }
        
        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.2);
        }
        
        .header .subtitle {
            font-size: 1.2rem;
            opacity: 0.9;
            max-width: 800px;
            margin: 0 auto;
        }
        
        .tabs {
            display: flex;
            justify-content: center;
            margin-bottom: 30px;
            background: white;
            border-radius: 15px;
            padding: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
        }
        
        .tab-btn {
            padding: 12px 25px;
            border: none;
            background: none;
            font-size: 1.1rem;
            font-weight: 600;
            color: #666;
            cursor: pointer;
            border-radius: 10px;
            transition: all 0.3s ease;
        }
        
        .tab-btn.active {
            background-color: #6a98f0;
            color: white;
            box-shadow: 0 5px 10px rgba(106, 152, 240, 0.3);
        }
        
        .tab-btn i {
            margin-right: 8px;
        }
        
        .tab-content {
            display: none;
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
            margin-bottom: 30px;
            min-height: 500px;
        }
        
        .tab-content.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        h2 {
            color: #4a6dc5;
            margin-bottom: 25px;
            padding-bottom: 10px;
            border-bottom: 2px solid #eef4ff;
            font-size: 1.8rem;
        }
        
        /* èŠ±å›­é¡µé¢æ ·å¼ */
        .garden-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
            gap: 25px;
        }
        
        .flower-pot {
            background-color: #f9fbff;
            border-radius: 15px;
            padding: 20px 15px;
            text-align: center;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            cursor: pointer;
            border: 2px solid #eef4ff;
            position: relative;
            overflow: hidden;
        }
        
        .flower-pot:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(106, 152, 240, 0.15);
        }
        
        .pot-shape {
            width: 100px;
            height: 100px;
            margin: 0 auto 15px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .pot-classic { background-color: #e6b89c; border-radius: 10px 10px 50px 50px; }
        .pot-round { background-color: #9ad4d6; border-radius: 50px 50px 30px 30px; }
        .pot-square { background-color: #f9b5ac; border-radius: 10px; }
        .pot-cylinder { background-color: #ffd972; border-radius: 5px; }
        .pot-wide { background-color: #a8e6cf; border-radius: 20px 20px 50px 50px; width: 120px; }
        .pot-tall { background-color: #ffaaa5; border-radius: 10px 10px 5px 5px; height: 120px; }
        
        .plant {
            font-size: 3rem;
            margin-bottom: 10px;
            display: block;
        }
        
        .student-name {
            font-weight: 600;
            font-size: 1.2rem;
            margin-bottom: 5px;
            color: #4a6dc5;
        }
        
        .progress {
            background-color: #eef4ff;
            height: 8px;
            border-radius: 4px;
            overflow: hidden;
            margin: 10px 0;
        }
        
        .progress-bar {
            background: linear-gradient(to right, #6a98f0, #89d4cf);
            height: 100%;
            border-radius: 4px;
            transition: width 0.5s ease;
        }
        
        .progress-text {
            font-size: 0.9rem;
            color: #666;
        }
        
        .action-btn {
            background-color: #6a98f0;
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            margin-top: 10px;
            transition: background-color 0.3s ease;
            width: 100%;
        }
        
        .action-btn:hover {
            background-color: #5a88e0;
        }
        
        .action-btn.harvest {
            background-color: #ff9f68;
        }
        
        .action-btn.harvest:hover {
            background-color: #ff8f48;
        }
        
        /* æ’è¡Œæ¦œæ ·å¼ */
        .ranking-container {
            max-width: 800px;
            margin: 0 auto;
        }
        
        .ranking-header {
            background: linear-gradient(135deg, #6a98f0 0%, #4a6dc5 100%);
            color: white;
            padding: 20px;
            border-radius: 15px 15px 0 0;
            text-align: center;
        }
        
        .ranking-list {
            background: white;
            border-radius: 0 0 15px 15px;
            overflow: hidden;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.08);
        }
        
        .ranking-item {
            display: flex;
            align-items: center;
            padding: 20px;
            border-bottom: 1px solid #eef4ff;
        }
        
        .ranking-item:last-child {
            border-bottom: none;
        }
        
        .rank {
            font-size: 1.8rem;
            font-weight: 700;
            color: #6a98f0;
            width: 60px;
            text-align: center;
        }
        
        .rank-1 { color: #ffd700; }
        .rank-2 { color: #c0c0c0; }
        .rank-3 { color: #cd7f32; }
        
        .ranking-info {
            flex: 1;
        }
        
        .ranking-name {
            font-weight: 600;
            font-size: 1.3rem;
            color: #333;
        }
        
        .ranking-badges {
            color: #666;
            font-size: 1.1rem;
        }
        
        .badge-count {
            color: #ff9f68;
            font-weight: 700;
        }
        
        /* æ’­ç§é¡µé¢æ ·å¼ */
        .seed-options {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-bottom: 30px;
            justify-content: center;
        }
        
        .option-group {
            flex: 1;
            min-width: 300px;
            background-color: #f9fbff;
            border-radius: 15px;
            padding: 20px;
            border: 2px solid #eef4ff;
        }
        
        .option-title {
            font-size: 1.3rem;
            color: #4a6dc5;
            margin-bottom: 15px;
            text-align: center;
        }
        
        .shape-options, .color-options, .seed-options-grid {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            justify-content: center;
        }
        
        .option {
            width: 80px;
            height: 80px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            background-color: white;
            border: 2px solid #eef4ff;
        }
        
        .option.selected {
            border-color: #6a98f0;
            box-shadow: 0 5px 10px rgba(106, 152, 240, 0.2);
            transform: scale(1.05);
        }
        
        .option i {
            font-size: 2rem;
            margin-bottom: 8px;
        }
        
        .seed-option {
            width: 100px;
            height: 100px;
        }
        
        .seed-option i {
            font-size: 2.5rem;
        }
        
        .plant-btn {
            display: block;
            margin: 30px auto;
            background-color: #4aaf7c;
            color: white;
            border: none;
            padding: 15px 40px;
            font-size: 1.3rem;
            font-weight: 600;
            border-radius: 12px;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }
        
        .plant-btn:hover {
            background-color: #3a9f6c;
        }
        
        /* ç®¡ç†é¡µé¢æ ·å¼ */
        .admin-section {
            margin-bottom: 30px;
        }
        
        .setting-group {
            background-color: #f9fbff;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
            border: 2px solid #eef4ff;
        }
        
        .setting-label {
            display: block;
            margin-bottom: 10px;
            font-weight: 600;
            color: #4a6dc5;
        }
        
        .setting-input {
            width: 100%;
            padding: 12px;
            border: 2px solid #eef4ff;
            border-radius: 8px;
            font-size: 1rem;
            margin-bottom: 15px;
        }
        
        .setting-input:focus {
            border-color: #6a98f0;
            outline: none;
        }
        
        .btn-group {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
        }
        
        .admin-btn {
            padding: 12px 25px;
            border-radius: 8px;
            border: none;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .btn-primary {
            background-color: #6a98f0;
            color: white;
        }
        
        .btn-primary:hover {
            background-color: #5a88e0;
        }
        
        .btn-secondary {
            background-color: #f0f4ff;
            color: #6a98f0;
            border: 2px solid #6a98f0;
        }
        
        .btn-secondary:hover {
            background-color: #e6ecff;
        }
        
        .btn-danger {
            background-color: #ff6b6b;
            color: white;
        }
        
        .btn-danger:hover {
            background-color: #ff5252;
        }
        
        .log-container {
            max-height: 300px;
            overflow-y: auto;
            background-color: #f9fbff;
            border-radius: 10px;
            padding: 15px;
            border: 2px solid #eef4ff;
        }
        
        .log-item {
            padding: 10px 15px;
            border-bottom: 1px solid #eef4ff;
        }
        
        .log-item:last-child {
            border-bottom: none;
        }
        
        .log-time {
            color: #888;
            font-size: 0.9rem;
        }
        
        /* å¼¹çª—æ ·å¼ */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }
        
        .modal.active {
            display: flex;
        }
        
        .modal-content {
            background-color: white;
            border-radius: 20px;
            padding: 30px;
            max-width: 500px;
            width: 90%;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);
            animation: modalFadeIn 0.3s ease;
        }
        
        @keyframes modalFadeIn {
            from { opacity: 0; transform: scale(0.9); }
            to { opacity: 1; transform: scale(1); }
        }
        
        .modal-header {
            font-size: 1.5rem;
            font-weight: 600;
            color: #4a6dc5;
            margin-bottom: 20px;
            text-align: center;
        }
        
        .harvest-animation {
            text-align: center;
            font-size: 5rem;
            margin: 20px 0;
            animation: bounce 0.5s ease infinite alternate;
        }
        
        @keyframes bounce {
            from { transform: scale(1); }
            to { transform: scale(1.1); }
        }
        
        .badge-notification {
            text-align: center;
            background-color: #f0f8ff;
            padding: 20px;
            border-radius: 15px;
            margin: 20px 0;
            border: 2px dashed #6a98f0;
        }
        
        /* å“åº”å¼è°ƒæ•´ */
        @media (max-width: 768px) {
            .garden-grid {
                grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
                gap: 15px;
            }
            
            .header h1 {
                font-size: 1.8rem;
            }
            
            .tab-btn {
                padding: 10px 15px;
                font-size: 0.9rem;
            }
            
            .tabs {
                flex-wrap: wrap;
            }
        }
        
        .footer {
            text-align: center;
            margin-top: 40px;
            color: #888;
            font-size: 0.9rem;
            padding-top: 20px;
            border-top: 1px solid #eef4ff;
        }
        
        .badge-icon {
            display: inline-block;
            background-color: #ffd700;
            color: #333;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            text-align: center;
            line-height: 24px;
            margin-right: 5px;
            font-size: 0.9rem;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>ç­çº§æ—©è¯»ç™¾èŠ±å›­</h1>
        <p class="subtitle">ç§èŠ±èƒŒè¯µæ—©è¯»ç¥å™¨ï¼å‘Šåˆ«æ¯ç‡¥çº¸è´¨è¡¨æ ¼ï¼Œè®©èƒŒè¯µå˜æˆ"å¼€å¿ƒå†œåœº"ï¼Œå¯è§†åŒ–æˆé•¿ï¼Œæˆå°±æ„Ÿæ»¡æ»¡ï¼</p>
    </div>
    
    <div class="tabs">
        <button class="tab-btn active" data-tab="garden">
            <i class="fas fa-seedling"></i> æˆ‘çš„èŠ±å›­
        </button>
        <button class="tab-btn" data-tab="sow">
            <i class="fas fa-plus-circle"></i> æ’­ç§æ–°æ¤ç‰©
        </button>
        <button class="tab-btn" data-tab="ranking">
            <i class="fas fa-trophy"></i> å¾½ç« æ’è¡Œæ¦œ
        </button>
        <button class="tab-btn" data-tab="admin">
            <i class="fas fa-cog"></i> ç­çº§ç®¡ç†
        </button>
    </div>
    
    <!-- èŠ±å›­é¡µé¢ -->
    <div id="garden" class="tab-content active">
        <h2><i class="fas fa-tree"></i> ç­çº§èŠ±å›­</h2>
        <p style="margin-bottom: 20px; color: #666;">ç‚¹å‡»èŠ±ç›†ä¸ºæ¤ç‰©æµ‡æ°´ï¼Œæ¤ç‰©æˆç†Ÿåå¯ä»¥æ”¶è·å¹¶è·å¾—å¾½ç« ï¼</p>
        
        <div class="garden-grid" id="gardenGrid">
            <!-- åŠ¨æ€ç”ŸæˆèŠ±ç›† -->
        </div>
    </div>
    
    <!-- æ’­ç§é¡µé¢ -->
    <div id="sow" class="tab-content">
        <h2><i class="fas fa-seedling"></i> æ’­ç§å°ç«™</h2>
        <p style="margin-bottom: 20px; color: #666;">ä¸º <span id="studentName" style="font-weight: 600; color: #4a6dc5;">å‘¨æ¬£å¦</span> é€‰æ‹©ä¸“å±èŠ±ç›†å’Œæ¤ç‰©</p>
        
        <div class="seed-options">
            <div class="option-group">
                <div class="option-title">ç¬¬ä¸€æ­¥ï¼šé€‰æ‹©èŠ±ç›†å½¢çŠ¶</div>
                <div class="shape-options">
                    <div class="option" data-shape="classic">
                        <i class="fas fa-square"></i>
                        <span>ç»å…¸å‹</span>
                    </div>
                    <div class="option" data-shape="round">
                        <i class="fas fa-circle"></i>
                        <span>åœ†è‚šå‹</span>
                    </div>
                    <div class="option" data-shape="square">
                        <i class="fas fa-cube"></i>
                        <span>æ–¹å—å‹</span>
                    </div>
                </div>
            </div>
            
            <div class="option-group">
                <div class="option-title">ç¬¬äºŒæ­¥ï¼šé€‰æ‹©èŠ±ç›†é¢œè‰²</div>
                <div class="color-options">
                    <div class="option" data-color="brown" style="color: #8B4513;">
                        <i class="fas fa-palette"></i>
                        <span>æ£•è‰²</span>
                    </div>
                    <div class="option" data-color="blue" style="color: #6a98f0;">
                        <i class="fas fa-palette"></i>
                        <span>è“è‰²</span>
                    </div>
                    <div class="option selected" data-color="green" style="color: #4aaf7c;">
                        <i class="fas fa-palette"></i>
                        <span>ç»¿è‰²</span>
                    </div>
                </div>
            </div>
            
            <div class="option-group">
                <div class="option-title">ç¬¬ä¸‰æ­¥ï¼šé€‰æ‹©æ¤ç‰©ç§å­</div>
                <div class="seed-options-grid">
                    <div class="option seed-option" data-plant="cherry-blossom">
                        <i class="fas fa-spa"></i>
                        <span>æ¨±èŠ±æ ‘</span>
                    </div>
                    <div class="option seed-option selected" data-plant="lavender">
                        <i class="fas fa-leaf"></i>
                        <span>è–°è¡£è‰</span>
                    </div>
                    <div class="option seed-option" data-plant="bamboo">
                        <i class="fas fa-tree"></i>
                        <span>ç«¹å­</span>
                    </div>
                </div>
            </div>
        </div>
        
        <button class="plant-btn" id="plantBtn">
            <i class="fas fa-seedling"></i> ç§ä¸‹å¸Œæœ›
        </button>
    </div>
    
    <!-- æ’è¡Œæ¦œé¡µé¢ -->
    <div id="ranking" class="tab-content">
        <div class="ranking-container">
            <div class="ranking-header">
                <h2><i class="fas fa-trophy"></i> å¾½ç« æ’è¡Œæ¦œ</h2>
                <p>æ ¹æ®å­¦ç”Ÿçš„å¾½ç« æ•°é‡å æ¦œ</p>
            </div>
            
            <div class="ranking-list" id="rankingList">
                <!-- åŠ¨æ€ç”Ÿæˆæ’è¡Œæ¦œ -->
            </div>
        </div>
    </div>
    
    <!-- ç®¡ç†é¡µé¢ -->
    <div id="admin" class="tab-content">
        <h2><i class="fas fa-cog"></i> ç­çº§ç®¡ç†</h2>
        
        <div class="admin-section">
            <h3><i class="fas fa-sliders-h"></i> æ¸¸æˆè®¾ç½®</h3>
            <div class="setting-group">
                <label class="setting-label">ç³»ç»Ÿåç§°</label>
                <input type="text" class="setting-input" id="systemName" value="ç­çº§æ—©è¯»ç™¾èŠ±å›­" placeholder="è¯·è¾“å…¥ç³»ç»Ÿåç§°">
                
                <label class="setting-label">æˆé•¿é€Ÿåº¦ï¼ˆèƒŒè¯µå‡ æ¬¡æˆç†Ÿï¼Ÿï¼‰</label>
                <input type="number" class="setting-input" id="growthSpeed" value="5" min="1" max="20">
                
                <div class="btn-group">
                    <button class="admin-btn btn-primary" id="saveSettings">ä¿å­˜è®¾ç½®</button>
                    <button class="admin-btn btn-secondary" id="testClass">ç”Ÿæˆ50äººæµ‹è¯•ç­çº§</button>
                </div>
            </div>
        </div>
        
        <div class="admin-section">
            <h3><i class="fas fa-users"></i> å­¦ç”Ÿç®¡ç†</h3>
            <div class="setting-group">
                <label class="setting-label">æ‰¹é‡å¯¼å…¥å­¦ç”Ÿåå•</label>
                <textarea class="setting-input" id="studentList" rows="6" placeholder="æ¯è¡Œè¾“å…¥ä¸€ä¸ªåå­—ï¼Œå¤åˆ¶ç²˜è´´è¿›æ¥å³å¯ã€‚
ä¾‹å¦‚ï¼š
åå®‰
å‘¨ä¸€è¯º
å«æ¬£å¦
å«ä¸€è¯º
å¼ ä¹
å‘¨æ¬£å¦
è’‹å¤§é›„"></textarea>
                
                <div class="btn-group">
                    <button class="admin-btn btn-primary" id="saveStudents">ä¿å­˜åå•</button>
                    <button class="admin-btn btn-secondary" id="editStudents">ç¼–è¾‘å­¦ç”Ÿåå•</button>
                </div>
            </div>
        </div>
        
        <div class="admin-section">
            <h3><i class="fas fa-clipboard-list"></i> æˆé•¿æ—¥å¿—</h3>
            <div class="setting-group">
                <div class="log-container" id="logContainer">
                    <!-- åŠ¨æ€ç”Ÿæˆæ—¥å¿— -->
                </div>
                
                <div class="btn-group" style="margin-top: 15px;">
                    <button class="admin-btn btn-secondary" id="clearLog">æ¸…ç©ºè®°å½•</button>
                    <button class="admin-btn btn-danger" id="resetData">é‡ç½®æœ¬ç­æ‰€æœ‰æ•°æ®</button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- æ”¶è·å¼¹çª— -->
    <div class="modal" id="harvestModal">
        <div class="modal-content">
            <div class="modal-header">æ­å–œå¤§ä¸°æ”¶ï¼</div>
            <div class="harvest-animation" id="harvestPlant">ğŸŒ¼</div>
            <div style="text-align: center; font-size: 1.3rem; margin-bottom: 20px;">
                <span id="harvestStudent">å‘¨æ¬£å¦</span> æˆåŠŸæ”¶è·äº†<br>
                <span id="harvestPlantName" style="font-weight: 600; color: #4a6dc5;">è–°è¡£è‰</span>
            </div>
            
            <div class="badge-notification">
                <div style="font-size: 1.2rem; margin-bottom: 10px;">å¤ªæ£’äº†ï¼å¾½ç« å·²æ”¾å…¥æ”¶é›†å†Œ</div>
                <div style="font-size: 2rem; margin: 15px 0;">ğŸ†</div>
                <div>è·å¾— <span style="color: #ff9f68; font-weight: 600;">1 æš</span> å¾½ç« </div>
            </div>
            
            <div style="text-align: center;">
                <button class="action-btn harvest" id="collectBadge">æ”¶ä¸‹å¾½ç« </button>
            </div>
        </div>
    </div>
    
    <div class="footer">
        <p>ç§èŠ±èƒŒè¯µæ—©è¯»ç¥å™¨ï¼èƒŒä¹¦æ—©è¯»ç§¯ææ€§æ‹‰æ»¡ï¼Œå¯è§†åŒ–æˆé•¿ï¼Œæˆå°±æ„Ÿçˆ†æ£šï¼</p>
        <p style="margin-top: 10px;">å°çº¢ä¹¦å·ï¼š95633004894 | ç­çº§ç®¡ç† | æ—©è¯»æ‰“å¡ | è¶£å‘³è¯¾å ‚ | å¸Œæ²ƒç™½æ¿</p>
    </div>

    <script>
        // åº”ç”¨æ•°æ®
        let appData = {
            students: [
                { id: 1, name: "å«æ¬£å¦", potShape: "round", potColor: "green", plant: "cherry-blossom", growth: 5, badgeCount: 18 },
                { id: 2, name: "è’‹å¤§é›„", potShape: "square", potColor: "blue", plant: "bamboo", growth: 3, badgeCount: 13 },
                { id: 3, name: "ä¸¥å¹³", potShape: "classic", potColor: "brown", plant: "lavender", growth: 5, badgeCount: 10 },
                { id: 4, name: "èµµå¹³", potShape: "classic", potColor: "brown", plant: "cherry-blossom", growth: 5, badgeCount: 10 },
                { id: 5, name: "å‘¨å°å¤«2", potShape: "round", potColor: "green", plant: "bamboo", growth: 4, badgeCount: 10 },
                { id: 6, name: "å†¯æ™“æ˜", potShape: "square", potColor: "blue", plant: "lavender", growth: 3, badgeCount: 9 },
                { id: 7, name: "é™¶ç¾", potShape: "round", potColor: "green", plant: "cherry-blossom", growth: 5, badgeCount: 9 }
            ],
            settings: {
                systemName: "ç­çº§æ—©è¯»ç™¾èŠ±å›­",
                growthSpeed: 5
            },
            logs: [
                "æ”¶è· å‘¨æ¬£å¦ - æ”¶è·äº† è–°è¡£è‰ï¼ 11/30 15:34",
                "æµ‡æ°´ å‘¨æ¬£å¦ - å®Œæˆäº† 'èƒŒè¯µä»»åŠ¡' 11/30 15:28",
                "æµ‡æ°´ å‘¨æ¬£å¦ - å®Œæˆäº† 'èƒŒè¯µä»»åŠ¡' 11/30 15:27",
                "æµ‡æ°´ å‘¨æ¬£å¦ - å®Œæˆäº† 'èƒŒè¯µä»»åŠ¡' 11/30 15:27",
                "æµ‡æ°´ å‘¨æ¬£å¦ - å®Œæˆäº† 'èƒŒè¯µä»»åŠ¡' 11/30 15:26",
                "æµ‡æ°´ å‘¨æ¬£å¦ - å®Œæˆäº† 'èƒŒè¯µä»»åŠ¡' 11/30 15:26",
                "æ’­ç§ å‘¨æ¬£å¦ - ç§ä¸‹äº† è–°è¡£è‰ 11/30 15:26",
                "æ”¶è· å‘¨æ¬£å¦ - æ”¶è·äº† ç™¾åˆèŠ±ï¼ 11/30 15:26"
            ]
        };
        
        // æ¤ç‰©å›¾æ ‡æ˜ å°„
        const plantIcons = {
            "cherry-blossom": "ğŸŒ¸",
            "lavender": "ğŸŒ¼",
            "bamboo": "ğŸ‹",
            "pine": "ğŸŒ²",
            "maple": "ğŸ",
            "apple": "ğŸŒ³",
            "orange": "ğŸŠ"
        };
        
        // æ¤ç‰©åç§°æ˜ å°„
        const plantNames = {
            "cherry-blossom": "æ¨±èŠ±æ ‘",
            "lavender": "è–°è¡£è‰",
            "bamboo": "ç«¹å­",
            "pine": "æ¾æ ‘",
            "maple": "æ«æ ‘",
            "apple": "è‹¹æœæ ‘",
            "orange": "æ©˜å­æ ‘"
        };
        
        // åˆå§‹åŒ–åº”ç”¨
        document.addEventListener('DOMContentLoaded', function() {
            // åŠ è½½ä¿å­˜çš„æ•°æ®
            loadSavedData();
            
            // åˆå§‹åŒ–é¡µé¢
            initGarden();
            initRanking();
            initLogs();
            
            // è®¾ç½®é€‰é¡¹å¡åˆ‡æ¢
            setupTabs();
            
            // è®¾ç½®æ’­ç§é¡µé¢é€‰é¡¹
            setupSowOptions();
            
            // è®¾ç½®æŒ‰é’®äº‹ä»¶
            setupButtons();
            
            // è®¾ç½®æ”¶è·å¼¹çª—
            setupHarvestModal();
        });
        
        // åŠ è½½ä¿å­˜çš„æ•°æ®
        function loadSavedData() {
            const savedData = localStorage.getItem('classGardenData');
            if (savedData) {
                appData = JSON.parse(savedData);
                document.getElementById('systemName').value = appData.settings.systemName;
                document.getElementById('growthSpeed').value = appData.settings.growthSpeed;
            }
        }
        
        // ä¿å­˜æ•°æ®åˆ°æœ¬åœ°å­˜å‚¨
        function saveData() {
            localStorage.setItem('classGardenData', JSON.stringify(appData));
        }
        
        // åˆå§‹åŒ–èŠ±å›­é¡µé¢
        function initGarden() {
            const gardenGrid = document.getElementById('gardenGrid');
            gardenGrid.innerHTML = '';
            
            appData.students.forEach(student => {
                const isMature = student.growth >= appData.settings.growthSpeed;
                const progressPercent = (student.growth / appData.settings.growthSpeed) * 100;
                
                const potClass = `pot-${student.potShape}`;
                const plantIcon = plantIcons[student.plant] || "ğŸŒ±";
                
                const flowerPot = document.createElement('div');
                flowerPot.className = 'flower-pot';
                flowerPot.dataset.id = student.id;
                
                flowerPot.innerHTML = `
                    <div class="pot-shape ${potClass}" style="background-color: ${getColorCode(student.potColor)};">
                        <span class="plant">${plantIcon}</span>
                    </div>
                    <div class="student-name">${student.name}</div>
                    <div class="progress">
                        <div class="progress-bar" style="width: ${progressPercent}%"></div>
                    </div>
                    <div class="progress-text">æˆé•¿è¿›åº¦: ${student.growth}/${appData.settings.growthSpeed}</div>
                    <button class="action-btn ${isMature ? 'harvest' : ''}">
                        ${isMature ? '<i class="fas fa-gift"></i> æ”¶è·' : '<i class="fas fa-tint"></i> æµ‡æ°´'}
                    </button>
                `;
                
                gardenGrid.appendChild(flowerPot);
            });
            
            // æ·»åŠ èŠ±ç›†ç‚¹å‡»äº‹ä»¶
            document.querySelectorAll('.flower-pot .action-btn').forEach(btn => {
                btn.addEventListener('click', function(e) {
                    e.stopPropagation();
                    const flowerPot = this.closest('.flower-pot');
                    const studentId = parseInt(flowerPot.dataset.id);
                    handlePotAction(studentId);
                });
            });
            
            // æ·»åŠ èŠ±ç›†ç‚¹å‡»äº‹ä»¶ï¼ˆæ•´ä¸ªèŠ±ç›†ï¼‰
            document.querySelectorAll('.flower-pot').forEach(pot => {
                pot.addEventListener('click', function() {
                    const studentId = parseInt(this.dataset.id);
                    // å¯ä»¥åœ¨è¿™é‡Œæ·»åŠ æŸ¥çœ‹èŠ±ç›†è¯¦æƒ…çš„åŠŸèƒ½
                });
            });
        }
        
        // å¤„ç†èŠ±ç›†æ“ä½œï¼ˆæµ‡æ°´/æ”¶è·ï¼‰
        function handlePotAction(studentId) {
            const student = appData.students.find(s => s.id === studentId);
            const isMature = student.growth >= appData.settings.growthSpeed;
            
            if (isMature) {
                // æ”¶è·æ¤ç‰©
                showHarvestModal(student);
            } else {
                // æµ‡æ°´
                student.growth++;
                
                // æ·»åŠ æ—¥å¿—
                const now = new Date();
                const timeStr = `${now.getHours().toString().padStart(2, '0')}:${now.getMinutes().toString().padStart(2, '0')}`;
                appData.logs.unshift(`æµ‡æ°´ ${student.name} - å®Œæˆäº† "èƒŒè¯µä»»åŠ¡" ${now.getMonth()+1}/${now.getDate()} ${timeStr}`);
                
                // æ›´æ–°èŠ±å›­æ˜¾ç¤º
                initGarden();
                initLogs();
                saveData();
                
                // æ˜¾ç¤ºæˆåŠŸæç¤º
                showNotification(`${student.name} çš„æ¤ç‰©æˆé•¿äº†ï¼`);
            }
        }
        
        // æ˜¾ç¤ºæ”¶è·å¼¹çª—
        function showHarvestModal(student) {
            const modal = document.getElementById('harvestModal');
            const plantIcon = plantIcons[student.plant] || "ğŸŒ±";
            const plantName = plantNames[student.plant] || "æ¤ç‰©";
            
            document.getElementById('harvestStudent').textContent = student.name;
            document.getElementById('harvestPlant').textContent = plantIcon;
            document.getElementById('harvestPlantName').textContent = plantName;
            
            modal.classList.add('active');
            
            // è®¾ç½®æ”¶è·å¤„ç†
            document.getElementById('collectBadge').onclick = function() {
                // å¢åŠ å¾½ç« æ•°é‡
                student.badgeCount++;
                // é‡ç½®æˆé•¿è¿›åº¦
                student.growth = 0;
                // éšæœºé€‰æ‹©æ–°æ¤ç‰©
                const plantTypes = Object.keys(plantIcons);
                student.plant = plantTypes[Math.floor(Math.random() * plantTypes.length)];
                
                // æ·»åŠ æ—¥å¿—
                const now = new Date();
                const timeStr = `${now.getHours().toString().padStart(2, '0')}:${now.getMinutes().toString().padStart(2, '0')}`;
                appData.logs.unshift(`æ”¶è· ${student.name} - æ”¶è·äº† ${plantName}ï¼ ${now.getMonth()+1}/${now.getDate()} ${timeStr}`);
                
                // å…³é—­å¼¹çª—
                modal.classList.remove('active');
                
                // æ›´æ–°é¡µé¢
                initGarden();
                initRanking();
                initLogs();
                saveData();
                
                // æ˜¾ç¤ºæˆåŠŸæç¤º
                showNotification(`${student.name} è·å¾—äº† 1 æšå¾½ç« ï¼`);
            };
        }
        
        // è®¾ç½®æ”¶è·å¼¹çª—
        function setupHarvestModal() {
            const modal = document.getElementById('harvestModal');
            
            // ç‚¹å‡»å¼¹çª—å¤–éƒ¨å…³é—­
            modal.addEventListener('click', function(e) {
                if (e.target === modal) {
                    modal.classList.remove('active');
                }
            });
        }
        
        // åˆå§‹åŒ–æ’è¡Œæ¦œ
        function initRanking() {
            const rankingList = document.getElementById('rankingList');
            rankingList.innerHTML = '';
            
            // æŒ‰å¾½ç« æ•°é‡æ’åº
            const sortedStudents = [...appData.students].sort((a, b) => b.badgeCount - a.badgeCount);
            
            sortedStudents.forEach((student, index) => {
                const rank = index + 1;
                const rankingItem = document.createElement('div');
                rankingItem.className = 'ranking-item';
                
                rankingItem.innerHTML = `
                    <div class="rank rank-${rank}">${rank}</div>
                    <div class="ranking-info">
                        <div class="ranking-name">${student.name}</div>
                        <div class="ranking-badges">å¾½ç« æ•°ï¼š<span class="badge-count">${student.badgeCount}</span></div>
                    </div>
                    <div class="badge-icon">${student.badgeCount}</div>
                `;
                
                rankingList.appendChild(rankingItem);
            });
        }
        
        // åˆå§‹åŒ–æ—¥å¿—
        function initLogs() {
            const logContainer = document.getElementById('logContainer');
            logContainer.innerHTML = '';
            
            appData.logs.forEach(log => {
                const logItem = document.createElement('div');
                logItem.className = 'log-item';
                logItem.textContent = log;
                logContainer.appendChild(logItem);
            });
        }
        
        // è®¾ç½®é€‰é¡¹å¡åˆ‡æ¢
        function setupTabs() {
            const tabBtns = document.querySelectorAll('.tab-btn');
            const tabContents = document.querySelectorAll('.tab-content');
            
            tabBtns.forEach(btn => {
                btn.addEventListener('click', function() {
                    // ç§»é™¤æ‰€æœ‰activeç±»
                    tabBtns.forEach(b => b.classList.remove('active'));
                    tabContents.forEach(c => c.classList.remove('active'));
                    
                    // æ·»åŠ å½“å‰activeç±»
                    this.classList.add('active');
                    const tabId = this.dataset.tab;
                    document.getElementById(tabId).classList.add('active');
                });
            });
        }
        
        // è®¾ç½®æ’­ç§é¡µé¢é€‰é¡¹
        function setupSowOptions() {
            // èŠ±ç›†å½¢çŠ¶é€‰é¡¹
            document.querySelectorAll('[data-shape]').forEach(option => {
                option.addEventListener('click', function() {
                    document.querySelectorAll('[data-shape]').forEach(opt => opt.classList.remove('selected'));
                    this.classList.add('selected');
                });
            });
            
            // èŠ±ç›†é¢œè‰²é€‰é¡¹
            document.querySelectorAll('[data-color]').forEach(option => {
                option.addEventListener('click', function() {
                    document.querySelectorAll('[data-color]').forEach(opt => opt.classList.remove('selected'));
                    this.classList.add('selected');
                });
            });
            
            // æ¤ç‰©ç§å­é€‰é¡¹
            document.querySelectorAll('[data-plant]').forEach(option => {
                option.addEventListener('click', function() {
                    document.querySelectorAll('[data-plant]').forEach(opt => opt.classList.remove('selected'));
                    this.classList.add('selected');
                });
            });
        }
        
        // è®¾ç½®æŒ‰é’®äº‹ä»¶
        function setupButtons() {
            // æ’­ç§æŒ‰é’®
            document.getElementById('plantBtn').addEventListener('click', function() {
                const selectedShape = document.querySelector('[data-shape].selected').dataset.shape;
                const selectedColor = document.querySelector('[data-color].selected').dataset.color;
                const selectedPlant = document.querySelector('[data-plant].selected').dataset.plant;
                
                // åˆ›å»ºæ–°å­¦ç”Ÿ
                const newId = appData.students.length > 0 ? Math.max(...appData.students.map(s => s.id)) + 1 : 1;
                const newStudent = {
                    id: newId,
                    name: `å­¦ç”Ÿ${newId}`,
                    potShape: selectedShape,
                    potColor: selectedColor,
                    plant: selectedPlant,
                    growth: 0,
                    badgeCount: 0
                };
                
                appData.students.push(newStudent);
                
                // æ·»åŠ æ—¥å¿—
                const now = new Date();
                const timeStr = `${now.getHours().toString().padStart(2, '0')}:${now.getMinutes().toString().padStart(2, '0')}`;
                appData.logs.unshift(`æ’­ç§ ${newStudent.name} - ç§ä¸‹äº† ${plantNames[selectedPlant]} ${now.getMonth()+1}/${now.getDate()} ${timeStr}`);
                
                // æ›´æ–°é¡µé¢
                initGarden();
                initLogs();
                saveData();
                
                // æ˜¾ç¤ºæˆåŠŸæç¤º
                showNotification(`æˆåŠŸä¸º ${newStudent.name} ç§ä¸‹${plantNames[selectedPlant]}ï¼`);
                
                // åˆ‡æ¢åˆ°èŠ±å›­é¡µé¢
                document.querySelector('[data-tab="garden"]').click();
            });
            
            // ä¿å­˜è®¾ç½®
            document.getElementById('saveSettings').addEventListener('click', function() {
                appData.settings.systemName = document.getElementById('systemName').value;
                appData.settings.growthSpeed = parseInt(document.getElementById('growthSpeed').value);
                
                // æ›´æ–°æ ‡é¢˜
                document.querySelector('.header h1').textContent = appData.settings.systemName;
                
                // æ›´æ–°èŠ±å›­æ˜¾ç¤º
                initGarden();
                saveData();
                
                showNotification('è®¾ç½®å·²ä¿å­˜ï¼');
            });
            
            // ç”Ÿæˆæµ‹è¯•ç­çº§
            document.getElementById('testClass').addEventListener('click', function() {
                const testNames = [
                    "åå®‰", "å‘¨ä¸€è¯º", "å«æ¬£å¦", "å«ä¸€è¯º", "å¼ ä¹", "å‘¨æ¬£å¦", "è’‹å¤§é›„", 
                    "æ¨å¤§å£®", "è¤šæ¬£æ€¡", "åå¤§å£®", "å´”æµ©ç„¶", "æå¹³", "å‘¨å°å¤©2", 
                    "éƒ‘æ™“æ˜", "é‡‘ç‘çº¢", "èµµç¾", "æ¨çˆ±è²", "æè¯ºä¸½", "æ—æ—­æ˜Š", 
                    "æœ±ç¾", "å”æµ©å®‡", "åˆ˜ä¸€å‡¡", "é™ˆå°æ˜¥", "ç‹å°è™", "å¼ å°èŠ±",
                    "èµµé“æŸ±", "é’±å¤šå¤š", "å­™å°ç¾", "æé›·", "éŸ©æ¢…æ¢…", "æ—æ¶›",
                    "é­æ™¨", "å´å°å‡¡", "éƒ‘æˆåŠŸ", "ç‹å»ºå›½", "å†¯å®å®", "é™ˆå°å®",
                    "æ¥šäº‘é£", "ä½•å»ºå›½", "å•ç§€æ‰", "éƒ­èŠ™è“‰", "ç¥æ— åŒ", "ç™½å±•å ‚",
                    "ä½Ÿæ¹˜ç‰", "è«å°è´", "é‚¢è‚²æ£®", "ç‡•å°å…­", "æå¤§å˜´", "æ¨æ…§å…°"
                ];
                
                appData.students = [];
                const plantTypes = Object.keys(plantIcons);
                const potShapes = ["classic", "round", "square"];
                const potColors = ["brown", "blue", "green"];
                
                testNames.forEach((name, index) => {
                    appData.students.push({
                        id: index + 1,
                        name: name,
                        potShape: potShapes[Math.floor(Math.random() * potShapes.length)],
                        potColor: potColors[Math.floor(Math.random() * potColors.length)],
                        plant: plantTypes[Math.floor(Math.random() * plantTypes.length)],
                        growth: Math.floor(Math.random() * 6),
                        badgeCount: Math.floor(Math.random() * 20)
                    });
                });
                
                // æ›´æ–°é¡µé¢
                initGarden();
                initRanking();
                saveData();
                
                showNotification('å·²ç”Ÿæˆ50äººæµ‹è¯•ç­çº§ï¼');
            });
            
            // ä¿å­˜å­¦ç”Ÿåå•
            document.getElementById('saveStudents').addEventListener('click', function() {
                const studentListText = document.getElementById('studentList').value;
                const names = studentListText.split('\n').filter(name => name.trim() !== '');
                
                if (names.length === 0) {
                    alert('è¯·è¾“å…¥è‡³å°‘ä¸€ä¸ªå­¦ç”Ÿå§“åï¼');
                    return;
                }
                
                appData.students = [];
                const plantTypes = Object.keys(plantIcons);
                const potShapes = ["classic", "round", "square"];
                const potColors = ["brown", "blue", "green"];
                
                names.forEach((name, index) => {
                    appData.students.push({
                        id: index + 1,
                        name: name.trim(),
                        potShape: potShapes[Math.floor(Math.random() * potShapes.length)],
                        potColor: potColors[Math.floor(Math.random() * potColors.length)],
                        plant: plantTypes[Math.floor(Math.random() * plantTypes.length)],
                        growth: Math.floor(Math.random() * 3),
                        badgeCount: 0
                    });
                });
                
                // æ›´æ–°é¡µé¢
                initGarden();
                initRanking();
                saveData();
                
                showNotification(`å·²å¯¼å…¥ ${names.length} åå­¦ç”Ÿï¼`);
            });
            
            // ç¼–è¾‘å­¦ç”Ÿåå•
            document.getElementById('editStudents').addEventListener('click', function() {
                const names = appData.students.map(student => student.name).join('\n');
                document.getElementById('studentList').value = names;
                showNotification('å­¦ç”Ÿåå•å·²åŠ è½½åˆ°ç¼–è¾‘æ¡†ï¼');
            });
            
            // æ¸…ç©ºæ—¥å¿—
            document.getElementById('clearLog').addEventListener('click', function() {
                if (confirm('ç¡®å®šè¦æ¸…ç©ºæ‰€æœ‰æˆé•¿æ—¥å¿—å—ï¼Ÿ')) {
                    appData.logs = [];
                    initLogs();
                    saveData();
                    showNotification('æˆé•¿æ—¥å¿—å·²æ¸…ç©ºï¼');
                }
            });
            
            // é‡ç½®æ•°æ®
            document.getElementById('resetData').addEventListener('click', function() {
                if (confirm('ç¡®å®šè¦é‡ç½®æœ¬ç­æ‰€æœ‰æ•°æ®å—ï¼Ÿæ­¤æ“ä½œä¸å¯æ’¤é”€ï¼')) {
                    localStorage.removeItem('classGardenData');
                    location.reload();
                }
            });
        }
        
        // æ˜¾ç¤ºé€šçŸ¥
        function showNotification(message) {
            // åˆ›å»ºä¸€ä¸ªä¸´æ—¶é€šçŸ¥å…ƒç´ 
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background-color: #4aaf7c;
                color: white;
                padding: 15px 25px;
                border-radius: 10px;
                box-shadow: 0 5px 15px rgba(0,0,0,0.2);
                z-index: 1000;
                font-weight: 600;
                animation: slideIn 0.3s ease, fadeOut 0.3s ease 2.7s;
                max-width: 300px;
            `;
            
            notification.textContent = message;
            document.body.appendChild(notification);
            
            // 3ç§’åç§»é™¤é€šçŸ¥
            setTimeout(() => {
                if (notification.parentNode) {
                    notification.parentNode.removeChild(notification);
                }
            }, 3000);
            
            // æ·»åŠ åŠ¨ç”»
            const style = document.createElement('style');
            style.textContent = `
                @keyframes slideIn {
                    from { transform: translateX(100%); opacity: 0; }
                    to { transform: translateX(0); opacity: 1; }
                }
                @keyframes fadeOut {
                    from { opacity: 1; }
                    to { opacity: 0; }
                }
            `;
            document.head.appendChild(style);
        }
        
        // è·å–é¢œè‰²ä»£ç 
        function getColorCode(colorName) {
            const colors = {
                "brown": "#8B4513",
                "blue": "#6a98f0",
                "green": "#4aaf7c",
                "red": "#ff6b6b",
                "yellow": "#ffd972",
                "purple": "#9b59b6"
            };
            return colors[colorName] || "#8B4513";
        }
    </script>
</body>
</html>